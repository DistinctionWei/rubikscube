(()=>{var t,e={106:t=>{t.exports='<v-app>\r\n    <viewport ref="viewport"></viewport>\r\n</v-app>\r\n'},51:(t,e,s)=>{"use strict";var i=s(538),r=s(464),o=s.n(r),h=(s(777),s(895)),n=s(212);class a{constructor(t,e,s){this.type=t,this.x=e,this.y=s}}class c{constructor(t,e){this.touch=t=>{var e;const s=t.changedTouches[0];if("touchstart"===t.type){if(this.target=t.target,this.last){const t=new a("touchend",this.last.clientX-this.dom.getBoundingClientRect().left,this.last.clientY-this.dom.getBoundingClientRect().top);this.callback(t)}this.last=s}if(this.target!==this.dom||(null===(e=this.last)||void 0===e?void 0:e.identifier)!=s.identifier)return!1;this.dom.tabIndex=1,this.dom.focus();const i=new a(t.type,s.clientX-this.dom.getBoundingClientRect().left,s.clientY-this.dom.getBoundingClientRect().top);return this.callback(i),t.preventDefault(),"touchend"!==t.type&&"touchcancel"!==t.type||(this.target=null),!0},this.mouse=t=>{if("mousedown"===t.type&&(this.target=t.target),this.target!==this.dom)return!0;this.dom.tabIndex=1,this.dom.focus();const e=new a(t.type,t.clientX,t.clientY);return this.callback(e),"mouseup"===t.type&&(this.target=null),!1},this.dom=t,this.callback=e,document.addEventListener("touchstart",this.touch),document.addEventListener("touchmove",this.touch),document.addEventListener("touchend",this.touch),document.addEventListener("touchcancel",this.touch),document.addEventListener("mousedown",this.mouse),document.addEventListener("mousemove",this.mouse),document.addEventListener("mouseup",this.mouse)}}class l{constructor(t,e,s,i){this.begin=t,this.end=e,this.duration=s,this.callback=i,this.value=0}finish(){this.callback(this.end)}update(){this.value++;let t=this.value/this.duration;t=t>1?1:t,t=t<0?0:t,t-=1,t=1-t*t;const e=1==t?this.end:this.begin+(this.end-this.begin)*t;return this.callback(e)}}const d=new class{constructor(){this.tweens=[],this.loop()}get length(){return this.tweens.length}loop(){requestAnimationFrame(this.loop.bind(this)),this.update()}tween(t,e,s,i){const r=new l(t,e,s,i);return this.tweens.push(r),r}update(){if(0===this.tweens.length)return!1;let t=0,e=this.tweens.length;for(;t<e;)this.tweens[t].update()?(this.tweens.splice(t,1),e--):t++;return!0}finish(t){if(t){for(let e=0;e<this.tweens.length;e++)if(this.tweens[e]==t)return t.finish(),void this.tweens.splice(e,1)}else{const t=this.tweens.splice(0,this.tweens.length);for(const e of t)e.finish()}}cancel(t){for(let e=0;e<this.tweens.length;e++)if(this.tweens[e]==t)return void this.tweens.splice(e,1)}};class u{constructor(t,e=!1,s=1){const i=t.match(/([\*\#~;.#xyz]|[0123456789-]*[bsfdeulmr][w]*)('?)(\d*)('?)/i);i&&(t=i[1],e=e!==(1==(i[2]+i[4]).length),s*=0==i[3].length?1:parseInt(i[3])),/[XYZ]/.test(t)&&(t=t.toLowerCase()),/[Ww]/.test(t)&&(t=(t=t.toUpperCase()).replace("W","w")),this.sign=t,this.reverse=e,this.times=s}get value(){return 0==this.times?"":this.sign+(1==this.times?"":String(this.times))+(this.reverse?"'":"")}}class p{constructor(t,e=!1,s=1){if(this.children=[],(t=t.replace(/[‘＇’]/g,"'")).match(/^([\*\#~;.#xyz]|[0123456789-]*[bsfdeulmr][w]*)$/gi))return void(this.twist=new u(t,e,s));if(this.twist=new u("",e,s),0==t.length)return;const i=p.SPLIT_SEGMENT(t);for(const t of i){let e;if(e=t.match(/^\[(.+[:|,].+)\]$/i),e){switch(e=p.SPLIT_BRACKET(e[1]),e[1]){case",":this.children.push(new p(e[0],!1,1)),this.children.push(new p(e[2],!1,1)),this.children.push(new p(e[0],!0,1)),this.children.push(new p(e[2],!0,1));break;case":":this.children.push(new p(e[0],!1,1)),this.children.push(new p(e[2],!1,1)),this.children.push(new p(e[0],!0,1))}continue}if(e=t.match(/^(\[.+[:|,].+\])('?)(\d*)('?)$/i),null===e&&(e=t.match(/^\((.+)\)('?)(\d*)('?)$/i)),null===e&&(e=t.match(/([\*\#~;.#xyz]|[0123456789-]*[bsfdeulmr][w]*)('?)(\d*)('?)/i)),null===e)continue;const s=1==(e[2]+e[4]).length,i=0==e[3].length?1:parseInt(e[3]);this.children.push(new p(e[1],s,i))}}static SPLIT_SEGMENT(t){const e=[];let s="",i=0,r=!1,o=!1;for(let h=0;h<t.length;h++){const n=t.charAt(h);" "===n&&0==s.length||("/"!==n||"/"!==t.charAt(h+1)?"\n"!==n?o||(p.AFFIX.indexOf(n)>=0?s=s.concat(n):s.length>0&&0==i&&r?(e.push(s),s="",h--,r=!1):"("!==n&&"["!==n?")"!==n&&"]"!==n?(r=!0,s=s.concat(n)):(s=s.concat(n),i--):(s=s.concat(n),i++)):o=!1:(h++,o=!0))}return s.length>0&&e.push(s),e}static SPLIT_BRACKET(t){const e=[];let s="",i=0;for(let r=0;r<t.length;r++){const o=t.charAt(r);0!=i||","!==o&&":"!==o?"("!==o&&"["!==o?")"!==o&&"]"!==o?s=s.concat(o):(s=s.concat(o),i--):(s=s.concat(o),i++):(e.push(s),e.push(o),s="")}return s.length>0&&e.push(s),e}parse(t=!1){t=this.twist.reverse!==t;const e=[];if(0!==this.children.length)for(let s=0;s<this.twist.times;s++)for(let s=0;s<this.children.length;s++){let i;i=t?this.children[this.children.length-s-1]:this.children[s];const r=i.parse(t);for(const t of r)e.push(t)}else if(""!=this.twist.sign&&!this.twist.sign.startsWith("//")){const s=new u(this.twist.sign,t,this.twist.times);e.push(s)}return e}}p.AFFIX="'Ww0123456789-";class f{constructor(t){this.queue=[],this.update=()=>{for(;;){const t=this.queue.shift();if(null==t)return;if(!this.twist(t,!1,!1))return void this.queue.unshift(t)}},this.cube=t,this.cube.callbacks.push(this.update)}scrambler(){let t="";const e=[];let s=-1;const i=["U","D","R","L","F","B"];let r=-1;for(let t=0;t<9*this.cube.order;t++){const t=[];for(;r==s;)r=Math.floor(3*Math.random());const o=i[2*r+Math.floor(2*Math.random())],h=Math.ceil(Math.random()*Math.floor(this.cube.order/2));1!==h&&t.push(h),t.push(o);const n=Math.random();n<.4?t.push("2"):n<.7&&t.push("'"),e.push(t.join("")),s=r}return t=e.join(" "),t}get length(){return this.queue.length}finish(){for(;this.queue.length>0;)d.finish();d.finish()}setup(t,e=!1,s=1){this.finish(),this.cube.reset();const i=new p(t,e,s).parse();for(const t of i)this.twist(t,!0,!0);this.cube.dirty=!0,this.cube.history.clear(),this.cube.history.init=t,this.cube.callback()}push(t,e=!1,s=1){const i=new p(t,e,s).parse();if(0!=i.length){for(const t of i)this.queue.push(t);this.update()}}twist(t,e,s){let i=!1;if("#"==t.sign)return this.setup(""),!0;if("*"==t.sign){const t=this.scrambler();return this.setup(t),!0}if("."==t.sign||"~"==t.sign)return e||s?(this.cube.callback(),!0):(i=this.cube.lock("a",1),i&&d.tween(0,1,g.frames*t.times,(t=>1==t&&(this.cube.unlock("a",1),this.cube.callback(),!0))),i);if(";"==t.sign)return e||s?(this.cube.callback(),!0):(i=this.cube.lock("a",1),i&&(this.cube.unlock("a",1),this.cube.callback()),i);const r=this.cube.table.convert(t);if(0==r.length)return!0;for(const t of r)for(i=t.group.twist(Math.PI/2*t.twist,e);!i&&s;)d.finish(),i=t.group.twist(Math.PI/2*t.twist,e);return i&&this.cube.record(t),i}undo(){if(0==this.cube.history.length)return;const t=this.cube.history.last,e=new u(t.sign,!t.reverse,1);this.twist(e,!1,!0)}}class g extends n.ZAu{constructor(t,e,s){super(),this.holding=!1,this.tween=void 0,this.cube=t,this._angle=0,this.cubelets=[],this.indices=[],this.matrixAutoUpdate=!1,this.updateMatrix(),this.axis=e,this.layer=s;const i=(this.cube.order-1)/2;let r=0;this.layer===i?(s=0,r=2):this.layer<i?r=1:s=this.cube.order-s-1;const o=[{x:"R",y:"U",z:"F"},{x:"L'",y:"D'",z:"B'"},{x:"M'",y:"E'",z:"S"}][r][this.axis];this.name=(0===s?"":String(s+1))+o}set angle(t){this._angle=t,this.setRotationFromAxisAngle(g.AXIS_VECTOR[this.axis],this._angle),this.updateMatrix(),this.cube.dirty=!0}get angle(){return this._angle}cancel(){if(this.tween){let t=this.tween.end;return d.cancel(this.tween),this.tween=void 0,t=Math.round(t/(Math.PI/2))*(Math.PI/2),t}return 0}finish(){if(this.tween){const t=this.tween.end-this.angle;return d.finish(this.tween),this.tween=void 0,t}return 0}hold(){if(!this.cube.lock(this.axis,this.layer))return!1;this.holding=!0;for(const t of this.indices){const e=this.cube.cubelets[t];this.cubelets.push(e),this.cube.remove(e),this.add(e)}return this.cube.add(this),!0}drag(){for(;this.holding;)this.angle=-this.finish();return this.hold()}drop(){for(this.holding=!1,this.tween=void 0;;){const t=this.cubelets.pop();if(void 0===t)break;this.rotate(t),this.remove(t),this.cube.add(t),this.cube.cubelets[t.index]=t}this.cube.remove(this),this.cube.dirty=!0,this.angle=0,this.cube.unlock(this.axis,this.layer),this.cube.callback()}twist(t,e){if(this.holding)t+=this.cancel();else{if(!this.hold())return!1;this.angle=0}t=Math.round(t/(Math.PI/2))*(Math.PI/2),e&&(this.angle=t);const s=t-this.angle;if(Math.abs(this.angle-t)<1e-6)this.drop();else{const e=Math.abs(s)/(Math.PI/2),i=g.frames*(2-2/(e+1));this.tween=d.tween(this.angle,t,i,(e=>(this.angle=e,Math.abs(this.angle-t)<1e-6&&(this.drop(),!0))))}return!0}rotate(t){t.rotateOnWorldAxis(g.AXIS_VECTOR[this.axis],this.angle),t.vector=t.vector.applyAxisAngle(g.AXIS_VECTOR[this.axis],this.angle),t.updateMatrix()}}g.frames=20,g.AXIS_VECTOR={a:new n.Pa4(1,1,1),x:new n.Pa4(-1,0,0),y:new n.Pa4(0,-1,0),z:new n.Pa4(0,0,-1)};class w{constructor(t,e){this.group=t,this.twist=e}}class v{constructor(t){this.order=t.order,this.groups={};for(const e of["x","y","z"]){const s=[];for(let i=0;i<this.order;i++){const r=new g(t,e,i);s[i]=r}this.groups[e]=s}for(const e of t.initials){const t=e.initial;let s,i,r;s="x",i=t%this.order,r=this.groups[s][i],r.indices.push(e.index),s="y",i=Math.floor(t%(this.order*this.order)/this.order),r=this.groups[s][i],r.indices.push(e.index),s="z",i=Math.floor(t/(this.order*this.order)),r=this.groups[s][i],r.indices.push(e.index)}}face(t){let e=0,s=v.AXIS_MAP[t];return 2==s.length?s=s[1]:e=this.order-1,this.groups[s][e]}convert(t){const e=[];let s,i=t.sign;i.match(/.[Ww]/)&&(i=i.toLowerCase().replace("w","")),/[XYZ]/.test(i)&&(i=i.toLowerCase());let r,o=t.times*(t.reverse?-1:1);if(1===i.length)switch(i){case"x":case"y":case"z":for(let t=0;t<this.order;t++)s=this.groups[i][t],e.push(new w(s,o));return e;case"R":case"U":case"F":case"L":case"D":case"B":return r=0,i=v.AXIS_MAP[i.toUpperCase()],2==i.length?(o=-o,i=i[1]):r=this.order-1,s=this.groups[i][r],e.push(new w(s,o)),e;case"r":case"u":case"f":case"l":case"d":case"b":return r=0,i=v.AXIS_MAP[i.toUpperCase()],2==i.length?(o=-o,i=i[1]):r=this.order-2,s=this.groups[i][r],e.push(new w(s,o)),s=this.groups[i][r+1],e.push(new w(s,o)),e;case"E":case"M":case"S":return r=Math.floor((this.order-1)/2),i=v.AXIS_MAP[i.toUpperCase()],2==i.length&&(o=-o,i=i[1]),s=this.groups[i][r],e.push(new w(s,o)),this.order%2==0&&(s=this.groups[i][r+1],e.push(new w(s,o))),e;case"e":case"m":case"s":i=v.AXIS_MAP[i.toUpperCase()],2==i.length&&(o=-o,i=i[1]);for(let t=1;t<this.order-1;t++)s=this.groups[i][t],e.push(new w(s,o));return e}else{const t=i.match(/([0123456789]*)(-?)([0123456789]*)([lrudfb])/i);if(null==t)return e;let r=Number(t[1]),h=Number(t[3]);NaN!==h&&0!==h||(h=/[lrudfb]/.test(t[4])?1:r),r>this.order&&(r=this.order),h>this.order&&(h=this.order),i=v.AXIS_MAP[t[4].toUpperCase()],2==i.length?(o=-o,i=i[1]):(r=this.order-r+1,h=this.order-h+1),r>h&&([r,h]=[h,r]);for(let t=r-1;t<h;t++)s=this.groups[i][t],e.push(new w(s,o))}return e}}var b;v.AXIS_MAP={R:"x",L:"-x",U:"y",D:"-y",F:"z",B:"-z",M:"-x",E:"-y",S:"z"},function(t){t[t.L=0]="L",t[t.R=1]="R",t[t.D=2]="D",t[t.U=3]="U",t[t.B=4]="B",t[t.F=5]="F"}(b||(b={}));class m extends n.u9r{constructor(t,e){super();const s=t/2,i=s-e,r=[-i,+i,+s,+i,+i,+s,+i,-i,+s,-i,-i,+s,-i,+s,-i,+i,+s,-i,+i,+s,+i,-i,+s,+i,-s,-i,-i,-s,+i,-i,-s,+i,+i,-s,-i,+i,+i,+i,-s,-i,+i,-s,-i,-i,-s,+i,-i,-s,-i,-s,+i,+i,-s,+i,+i,-s,-i,-i,-s,-i,+s,+i,+i,+s,+i,-i,+s,-i,-i,+s,-i,+i];this.setAttribute("position",new n.a$l(r,3)),this.setIndex(m._indices),this.computeVertexNormals()}}m._indices=[0,2,1,0,3,2,4,6,5,4,7,6,8,10,9,8,11,10,12,14,13,12,15,14,16,18,17,16,19,18,20,22,21,20,23,22,1,6,7,0,1,7,3,0,10,11,3,10,17,2,3,16,17,3,23,20,1,2,23,1,5,12,13,4,5,13,9,13,14,8,9,14,22,15,12,21,22,12,19,14,15,18,19,15,7,4,9,10,7,9,11,8,19,16,11,19,23,17,18,22,23,18,20,21,5,6,20,5,20,6,1,10,0,7,21,12,5,13,9,4,23,2,17,11,16,3,22,18,15,8,14,19];class x extends n.O7d{constructor(t,e,s){const i=-(t/=2),r=t,o=-t,h=t,a=t/4,c=new n.bnF;if(c.moveTo(i,o+a),c.lineTo(i,r-a),c.quadraticCurveTo(i,r,i+a,r),c.lineTo(h-a,r),c.quadraticCurveTo(h,r,h,r-a),c.lineTo(h,o+a),c.quadraticCurveTo(h,o,h-a,o),c.lineTo(i+a,o),c.quadraticCurveTo(i,o,i,o+a),c.closePath(),s){const e=.6*t,s=.8*e,i=new n.y$t;i.moveTo(0,e),i.lineTo(-s,0),i.lineTo(-s/2,0),i.lineTo(-s/2,-e),i.lineTo(s/2,-e),i.lineTo(s/2,0),i.lineTo(s,0),i.closePath(),c.holes.push(i)}super(c,{bevelEnabled:!1,depth:e})}}class y extends n.oa8{constructor(t){const e=-(t/=2),s=t,i=-t,r=t,o=t/4,h=new n.bnF;h.moveTo(e,i+o),h.lineTo(e,s-o),h.quadraticCurveTo(e,s,e+o,s),h.lineTo(r-o,s),h.quadraticCurveTo(r,s,r,s-o),h.lineTo(r,i+o),h.quadraticCurveTo(r,i,r-o,i),h.lineTo(e+o,i),h.quadraticCurveTo(e,i,e,i+o),h.closePath(),super(h)}}const M={R:"#B71C1C",L:"#FF6D00",U:"#F0F0F0",D:"#FFD600",F:"#00A020",B:"#0D47A1",core:"#202020",gray:"#808080",high:"#FF0080"},k=64,P=3,z=3,I=2,R=.1,A=new m(k,z),T=(()=>{const t={};for(const e in M)t[e]=new n.vBJ({color:M[e]});return t})(),C=(()=>{const t={};for(const e in M)t[e]=new n.YBo({color:M[e]});return t})(),F=new n.xoR({color:M.core,specular:M.gray,shininess:2}),_=(new n.vBJ({color:M.gray,transparent:!0,opacity:.1,depthWrite:!1}),new x(k-2*z-I,R,!1)),S=new y(k-2*z-R);class O{constructor(){this.vector=new n.Pa4}}class E{constructor(t){this.dragging=!1,this.rotating=!1,this.angle=0,this.contingle=0,this.ray=new n.zHn,this.down=new n.FM8(0,0),this.move=new n.FM8(0,0),this.matrix=new n.yGw,this.holder=new O,this.vector=new n.Pa4,this.planes=[new n.JOQ(new n.Pa4(1,0,0),3*-k/2),new n.JOQ(new n.Pa4(0,1,0),3*-k/2),new n.JOQ(new n.Pa4(0,0,1),3*-k/2),new n.JOQ(new n.Pa4(-1,0,0),3*-k/2),new n.JOQ(new n.Pa4(0,-1,0),3*-k/2)],this._lock=!1,this._disable=!1,this.sensitivity=.5,this.tick=(new Date).getTime(),this.hover=-1,this.interact=t=>{switch(t.type){case"touchstart":case"mousedown":this.down.x=t.x,this.down.y=t.y,this.tick=(new Date).getTime(),this.handleDown();break;case"mousemove":case"touchmove":this.move.x=t.x,this.move.y=t.y,this.handleMove();break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":this.handleUp();break;default:return!1}return!0},this.world=t,this.taps=[],this.loop()}get lock(){return this._lock}set lock(t){this.handleUp(),this._lock=t}get disable(){return this._disable}set disable(t){this.handleUp(),this._disable=t}loop(){requestAnimationFrame(this.loop.bind(this)),this.update()}update(){const t=this.contingle+this.angle;if(this.rotating)if(this.group){if(this.group.angle!=t){const e=(t-this.group.angle)/2;this.group.angle+=e}}else{const e=this.world.cube.table.groups[this.axis[0]];for(const s of e)if(s.angle!=t){const e=(t-s.angle)/2;s.angle+=e}}}match(){const t=this.holder.plane.normal,e=this.holder.vector,s=this.holder.index,i=this.world.cube.order;for(const r of["x","y","z"]){const o=g.AXIS_VECTOR[r];if(0===o.dot(t)&&0===o.dot(e)){let t=0;switch(r){case"x":t=s%i;break;case"y":t=Math.floor(s%(i*i)/i);break;case"z":t=Math.floor(s/(i*i))}return this.world.cube.table.groups[r][t]}}return null}intersect(t,e){const s=t.x/this.world.width*2-1,i=-t.y/this.world.height*2+1;this.ray.origin.setFromMatrixPosition(this.world.camera.matrixWorld),this.ray.direction.set(s,i,.5).unproject(this.world.camera).sub(this.ray.origin).normalize(),this.matrix.copy(this.world.scene.matrix),this.matrix.invert(),this.ray.applyMatrix4(this.matrix);const r=new n.Pa4(1/0,1/0,1/0);return this.ray.intersectPlane(e,r),r}handleDown(){if(this.disable)return;(this.dragging||this.rotating)&&this.handleUp(),this.dragging=!0,this.holder.index=-1;let t=0;this.planes.forEach((e=>{const s=this.intersect(this.down,e);if(null!==s){let i=s.x/k/3,r=s.y/k/3,o=s.z/k/3;if(Math.abs(i)<=.5001&&Math.abs(r)<=.5001&&Math.abs(o)<=.5001){const h=Math.pow(s.x-this.ray.origin.x,2)+Math.pow(s.y-this.ray.origin.y,2)+Math.pow(s.z-this.ray.origin.z,2);if(0==t||h<t){this.holder.plane=e;const s=this.world.cube.order;i=Math.max(0,Math.min(s-1,Math.floor((i+.5)*s))),r=Math.max(0,Math.min(s-1,Math.floor((r+.5)*s))),o=Math.max(0,Math.min(s-1,Math.floor((o+.5)*s))),this.holder.index=o*s*s+r*s+i,t=h}}}}),this)}handleMove(){if(!this.disable){if(this.dragging){const t=this.move.x-this.down.x,e=this.move.y-this.down.y,s=Math.sqrt(t*t+e*e);if(Math.min(this.world.width,this.world.height)/s>128)return;if(this.dragging=!1,this.rotating=!0,-1===this.holder.index){if(t*t>e*e)this.axis="y";else{const t=this.world.width/2,e=new n.Pa4(-3*k/2,0,3*k/2);e.applyMatrix4(this.world.scene.matrix).project(this.world.camera);const s=Math.round(e.x*t+t),i=new n.Pa4(3*k/2,0,3*k/2);i.applyMatrix4(this.world.scene.matrix).project(this.world.camera);const r=Math.round(i.x*t+t);e.z<i.z?this.down.x<s?this.axis="z'":this.axis="x":this.down.x<r?this.axis="x":this.axis="z"}this.group=null;const s=new Set;for(const t of this.world.cube.table.groups[this.axis[0]]){let e=t.drag();for(;!e;)d.finish(),e=t.drag();s.add(t.angle)}if(1==s.size)for(const t of s.values()){this.contingle=t;break}else this.contingle=0}else{const t=this.intersect(this.down,this.holder.plane),e=this.intersect(this.move,this.holder.plane);this.vector.subVectors(e,t);let s=this.vector.x,i=this.vector.y,r=this.vector.z;const o=Math.max(Math.abs(s),Math.abs(i),Math.abs(r));if(s=Math.abs(s)===o?s:0,i=Math.abs(i)===o?i:0,r=Math.abs(r)===o?r:0,this.vector.set(s,i,r),this.holder.vector.copy(this.vector.multiply(this.vector).normalize()),this.group=this.match(),!this.group)return void(this.rotating=!1);let h=this.group.drag();for(;!h;)d.finish(),h=this.group.drag();this.contingle=this.group.angle,this.vector.crossVectors(this.holder.vector,this.holder.plane.normal),this.holder.vector.multiplyScalar(this.vector.x+this.vector.y+this.vector.z)}}if(this.rotating)if(this.group){const t=this.intersect(this.down,this.holder.plane),e=this.intersect(this.move,this.holder.plane);this.vector.subVectors(e,t).multiply(this.holder.vector);const s=g.AXIS_VECTOR[this.group.axis];this.angle=-(this.vector.x+this.vector.y+this.vector.z)*(s.x+s.y+s.z)/k*Math.PI*this.sensitivity}else{const t=this.move.x-this.down.x,e=this.move.y-this.down.y;switch(this.axis){case"y":this.angle=-t/k*Math.PI*this.sensitivity;break;case"x":case"z'":this.angle=-e/k*Math.PI*this.sensitivity;break;case"z":this.angle=e/k*Math.PI*this.sensitivity;break;default:this.angle=0}}}}handleUp(){if(this.dragging){let t=null;switch(this.holder.plane){case this.planes[0]:t=b.R;break;case this.planes[1]:t=b.U;break;case this.planes[2]:t=b.F}for(const e of this.taps)e(this.holder.index,t)}if(this.rotating){let t=this.angle;if(this.lock)t=0;else{if(Math.abs(t)<Math.PI/4){const e=(new Date).getTime();Math.abs(t)/(e-this.tick)*1e3>.2&&(t=0==t?0:t/Math.abs(t)*Math.PI/2)}t+=this.contingle}if(this.group){if(this.group.twist(t,!1),0!=t){let e=Math.round(t/(Math.PI/2));const s=e<0;e=Math.abs(e),this.world.cube.record(new u(this.group.name,s,e))}}else{const e=this.world.cube.table.groups[this.axis[0]];for(const s of e)s.twist(t,!1);if(0!=t){let e=Math.round(t/(Math.PI/2));const s=e<0;e=Math.abs(e),this.world.cube.record(new u(this.axis,s,e))}}}this.group=null,this.holder.index=-1,this.dragging=!1,this.rotating=!1}}class U extends n.ZAu{constructor(t){super(),this._vector=new n.Pa4,this._quaternion=new n._fP,this.order=P,this.initial=t,this.index=t,this.stickers=[],this.mirrors=[];const e=(this.order-1)/2;this.lamberts=[this.vector.x==-e?C.L:void 0,this.vector.x==e?C.R:void 0,this.vector.y==-e?C.D:void 0,this.vector.y==e?C.U:void 0,this.vector.z==-e?C.B:void 0,this.vector.z==e?C.F:void 0],this.basics=[this.vector.x==-e?T.L:void 0,this.vector.x==e?T.R:void 0,this.vector.y==-e?T.D:void 0,this.vector.y==e?T.U:void 0,this.vector.z==-e?T.B:void 0,this.vector.z==e?T.F:void 0],this.frame=new n.Kj0(A,F),this.add(this.frame);for(let t=0;t<6;t++)if(null!=this.lamberts[t]){const e=new n.Kj0(_,this.lamberts[t]);switch(t){case b.L:e.rotation.y=-Math.PI/2,e.position.x=-k/2;break;case b.R:e.rotation.y=Math.PI/2,e.position.x=k/2;break;case b.D:e.rotation.x=Math.PI/2,e.position.y=-k/2;break;case b.U:e.rotation.x=-Math.PI/2,e.position.y=k/2;break;case b.B:e.rotation.x=Math.PI,e.position.z=-k/2;break;case b.F:e.rotation.x=2*Math.PI,e.position.z=k/2}this.add(e),this.stickers[t]=e;const s=new n.Kj0(S,this.basics[t]);s.rotation.x=0==e.rotation.x?0:e.rotation.x+Math.PI,s.rotation.y=0==e.rotation.y?0:e.rotation.y+Math.PI,s.rotation.z=0==e.rotation.z?0:e.rotation.z+Math.PI,s.rotation.x+s.rotation.y+s.rotation.z==0&&(s.rotation.y=Math.PI),s.position.x=e.position.x*(this.order+1),s.position.y=e.position.y*(this.order+1),s.position.z=e.position.z*(this.order+1),this.mirrors[t]=s}this.matrixAutoUpdate=!1,this.updateMatrix()}set vector(t){const e=(this.order-1)/2;let s=Math.round(2*t.x)/2,i=Math.round(2*t.y)/2,r=Math.round(2*t.z)/2;this._vector.set(s,i,r),s=Math.round(s+e),i=Math.round(i+e),r=Math.round(r+e),this._index=r*this.order*this.order+i*this.order+s,this.position.x=k*this._vector.x,this.position.y=k*this._vector.y,this.position.z=k*this._vector.z}get vector(){return this._vector}set index(t){const e=(this.order-1)/2,s=t%this.order-e,i=Math.floor(t%(this.order*this.order)/this.order)-e,r=Math.floor(t/(this.order*this.order))-e;this.vector=new n.Pa4(s,i,r)}get index(){return this._index}stick(t,e){let s,i;if(void 0!==this.stickers[t]){if("remove"==e)return this.stickers[t].visible=!1,void(this.mirrors[t].visible=!1);this.stickers[t].visible=!0,this.mirrors[t].visible=!0,e&&e.length>0?(s=C[e],i=T[e]):(s=this.lamberts[t],i=this.basics[t]),void 0!==s&&void 0!==i&&(this.stickers[t].material=s,this.mirrors[t]instanceof n.Kj0&&(this.mirrors[t].material=i))}}getFace(t){const e=new n.Pa4(0,0,0);switch(t){case b.L:e.x=-1;break;case b.R:e.x=1;break;case b.D:e.y=-1;break;case b.U:e.y=1;break;case b.B:e.z=-1;break;case b.F:e.z=1}this._quaternion.copy(this.quaternion),e.applyQuaternion(this._quaternion.invert());const s=Math.round(e.x),i=Math.round(e.y),r=Math.round(e.z);let o=0;return s<0?o=b.L:s>0?o=b.R:i<0?o=b.D:i>0?o=b.U:r<0?o=b.B:r>0&&(o=b.F),o}getColor(t){const e=this.stickers[this.getFace(t)];if(!e||!e.visible)return"?";switch(e.material){case C.L:return"L";case C.R:return"R";case C.F:return"F";case C.B:return"B";case C.U:return"U";case C.D:return"D"}return"?"}}class L{constructor(){this.list=[],this.init="",this.exp=""}record(t){const e=new u(t.sign,t.reverse,t.times);if(0==this.list.length)e.times=e.times%4,0!=e.times&&(this.list.push(e),this.exp=this.exp+" "+e.value);else{const t=this.list[this.list.length-1];t.sign==e.sign?(t.times=t.times+e.times*(t.reverse==e.reverse?1:-1),t.times<0&&(t.times=-t.times,t.reverse=!t.reverse),t.times=t.times%4,this.exp=this.exp.substring(0,this.exp.lastIndexOf(" ")),0==t.times?this.list.pop():this.exp=this.exp+" "+t.value):(this.list.push(e),this.exp=this.exp+" "+e.value)}}clear(){this.list=[],this.init="",this.exp=""}get last(){return this.list[this.list.length-1]}get length(){return this.list.length}get moves(){let t=this.length;for(const e of this.list)"x"!=e.sign&&"y"!=e.sign&&"z"!=e.sign||t--;return t}}class D extends n.ZAu{constructor(){super(),this.dirty=!0,this.cubelets=[],this.initials=[],this.callbacks=[],this.twister=new f(this);this.order=3,this.scale.set(1,1,1);for(let t=0;t<27;t++){const e=new U(t);this.cubelets.push(e),this.initials.push(e),this.add(e)}this.locks=new Map,this.locks.set("x",new Set),this.locks.set("y",new Set),this.locks.set("z",new Set),this.locks.set("a",new Set),this.history=new L,this.table=new v(this),this.matrixAutoUpdate=!1,this.updateMatrix()}callback(){for(const t of this.locks.values())if(t.size>0)return;for(const t of this.callbacks)t()}lock(t,e){var s;if(null===(s=this.locks.get("a"))||void 0===s?void 0:s.has(1))return!1;const i=this.locks.get(t);if(null==i)return!1;for(const t of this.locks.values())if(t!=i&&t.size>0)return!1;return i.add(e),!0}unlock(t,e){const s=this.locks.get(t);null==s||s.delete(e)}record(t){this.history.record(t)}get complete(){return[b.U,b.D,b.L,b.R,b.F,b.B].every((t=>{const e=this.table.face(b[t]);if(!e)throw Error();let s=this.cubelets[e.indices[0]];const i=s.getFace(t);return e.indices.every((e=>(s=this.cubelets[e],i==s.getFace(t))))}))}index(t){return this.initials[t].index}reset(){d.finish();for(const t of this.cubelets)t.setRotationFromEuler(new n.USm(0,0,0)),t.index=t.initial,t.updateMatrix();this.cubelets.sort(((t,e)=>t.index-e.index))}stick(t,e,s){const i=this.initials[t];if(!i)throw Error("invalid cubelet index: "+t);i.stick(e,s),this.dirty=!0}strip(t){for(const e of[b.L,b.R,b.D,b.U,b.B,b.F]){const s=b[e],i=this.table.face(s);if(!i)throw Error();for(const t of i.indices)this.initials[t].stick(e,"");const r=t[s];if(null!=r)for(const t of r){const s=this.initials[t];if(!s)throw Error("invalid cubelet index: "+t);s.stick(e,"remove")}}this.dirty=!0}serialize(){const t=[];let e,s,i;for(s=this.order-1,i=0;i<this.order;i++)for(e=0;e<this.order;e++){const r=i*this.order*this.order+s*this.order+e,o=this.cubelets[r].getColor(b.U);t.push(o)}for(e=this.order-1,s=this.order-1;s>=0;s--)for(i=this.order-1;i>=0;i--){const r=i*this.order*this.order+s*this.order+e,o=this.cubelets[r].getColor(b.R);t.push(o)}for(i=this.order-1,s=this.order-1;s>=0;s--)for(e=0;e<this.order;e++){const r=i*this.order*this.order+s*this.order+e,o=this.cubelets[r].getColor(b.F);t.push(o)}for(s=0,i=this.order-1;i>=0;i--)for(e=0;e<this.order;e++){const r=i*this.order*this.order+s*this.order+e,o=this.cubelets[r].getColor(b.D);t.push(o)}for(e=0,s=this.order-1;s>=0;s--)for(i=0;i<this.order;i++){const r=i*this.order*this.order+s*this.order+e,o=this.cubelets[r].getColor(b.L);t.push(o)}for(i=0,s=this.order-1;s>=0;s--)for(e=this.order-1;e>=0;e--){const r=i*this.order*this.order+s*this.order+e,o=this.cubelets[r].getColor(b.B);t.push(o)}return t.join("")}}class j{constructor(){this.callbacks=[],this.callback=()=>{for(const t of this.callbacks)t()},this.scene=new n.xsS,this.scene.matrixAutoUpdate=!1,this.scene.rotation.x=Math.PI/6,this.scene.rotation.y=-Math.PI/4+Math.PI/16,this.ambient=new n.Mig(16777215,1),this.directional=new n.Ox3(16777215,0),this.directional.position.set(k,3*k,2*k),this.scene.add(this.ambient),this.scene.add(this.directional),this.scene.updateMatrix(),this.camera=new n.cPb(50,1,1,32*k),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=0,this.controller=new E(this),this.cube=new D,this.scene.add(this.cube),this.scale=1,this.perspective=9}resize(t,e){this.width=t,this.height=e,this.updateCamera()}updateCamera(){const t=this.height/Math.min(this.width,this.height)/this.scale/this.perspective,e=2*Math.atan(t)*180/Math.PI,s=3*k*this.perspective;this.camera.aspect=this.width/this.height,this.camera.fov=e,this.camera.position.z=s,this.camera.near=s-3*k,this.camera.far=s+8*k,this.camera.lookAt(this.scene.position),this.camera.updateProjectionMatrix()}}var B=function(t,e,s,i){var r,o=arguments.length,h=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(h=(o<3?r(h):o>3?r(e,s,h):r(e,s))||h);return o>3&&h&&Object.defineProperty(e,s,h),h},q=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let X=class extends i.default{constructor(){super();const t=document.createElement("canvas");t.style.outline="none",this.renderer=new n.CP7({canvas:t,antialias:!0,alpha:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.interactor=new c(t,this.world.controller.interact)}resize(t,e){this.world.resize(t,e),this.renderer.setSize(t,e,!0)}mounted(){this.canvas.appendChild(this.renderer.domElement)}draw(){this.renderer.render(this.world.scene,this.world.camera)}};B([(0,h.tB)("world"),q("design:type",j)],X.prototype,"world",void 0),B([(0,h.Rl)("canvas"),q("design:type",HTMLElement)],X.prototype,"canvas",void 0),X=B([(0,h.wA)({template:'<div ref="canvas"></div>',components:{}}),q("design:paramtypes",[])],X);const V=X;var W=function(t,e,s,i){var r,o=arguments.length,h=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(h=(o<3?r(h):o>3?r(e,s,h):r(e,s))||h);return o>3&&h&&Object.defineProperty(e,s,h),h},J=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let N=class extends i.default{constructor(){super(),this.world=new j}mounted(){this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,this.viewport.resize(this.width,this.calcuViewportHeight(this.width,this.height)),this.loop()}loop(){requestAnimationFrame(this.loop.bind(this)),this.viewport.draw()}calcuViewportHeight(t,e){return e-1.5*Math.ceil(Math.min(t/6,e/12))}};W([(0,h.DF)("world"),J("design:type",Object)],N.prototype,"world",void 0),W([(0,h.Rl)("viewport"),J("design:type",V)],N.prototype,"viewport",void 0),N=W([(0,h.wA)({template:s(106),components:{viewport:V}}),J("design:paramtypes",[])],N);const K=N;i.default.use(o());const Q=new(o())({});i.default.prototype.vuetify=Q;let Y=K;new i.default({vuetify:Q,el:"#app",render:t=>t(Y)})}},s={};function i(t){var r=s[t];if(void 0!==r)return r.exports;var o=s[t]={exports:{}};return e[t].call(o.exports,o,o.exports,i),o.exports}i.m=e,t=[],i.O=(e,s,r,o)=>{if(!s){var h=1/0;for(l=0;l<t.length;l++){for(var[s,r,o]=t[l],n=!0,a=0;a<s.length;a++)(!1&o||h>=o)&&Object.keys(i.O).every((t=>i.O[t](s[a])))?s.splice(a--,1):(n=!1,o<h&&(h=o));if(n){t.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[s,r,o]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={179:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var r,o,[h,n,a]=s,c=0;if(h.some((e=>0!==t[e]))){for(r in n)i.o(n,r)&&(i.m[r]=n[r]);if(a)var l=a(i)}for(e&&e(s);c<h.length;c++)o=h[c],i.o(t,o)&&t[o]&&t[o][0](),t[h[c]]=0;return i.O(l)},s=self.webpackChunkrubikscube=self.webpackChunkrubikscube||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var r=i.O(void 0,[736],(()=>i(51)));r=i.O(r)})();